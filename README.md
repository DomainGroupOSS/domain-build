# Domain Build Scripts

## What's this?
This project is a collection of NuGet packages designed to simplify the process of automating the build of .Net web applications, console applications, class libraries, and even .Net Core projects.
As part of the process, this script collection will also run you NUnit, xUnit and MSTest tests, analyse your test coverage with OpenCover and generate an HTML test report for integration with you continuous integration tool of choice.

## Install instructions
1. Create a new class library in your solution
1. Delete Class1.cs. You won't need that
1. Add the Domain.Build.Scripts NuGet package to the class library. This will bring down the psake build script, as well as psake itself, the NuGet commandline tool and 7-zip
1. Add a new powershell script at the root of your repository (can be wherever you want). This is the script you will run to trigger the build. Typically, you would call this script "build.ps1" but the name is completely up to you.
1. (Optional) Add your script to the class library AS A LINK so you can easily access it from your solution
1. Get the script located [here] and change the solution path to point to your solution
1. If you run build.ps1 now, it will build your solution, and package every application as a zip file under .\.build\Packages\Applications

## Packaging applications as NuGet packages
1. Add the Domain.NugetPackager NuGet package to your applications or class libraries. This will add an MSBuild target to your csproj, vbproj or xproj project file, as well as create a basic ".nuspec" file to your project if none exist.
1. Run build.ps1 again. This time your applications and class libraries should  have been built as a NuGet package under .\.build\Packages\Applications and  under .\.build\Packages\Components

## Testing and test coverage
This build script supports nUnit, xUnit and MSTest by default. Test coverage is generated by OpenCover and an HTML test report will be generated by ReportGenerator.

1. For each test project in your solution, install one of the following NuGet package, depending on the testing framework you are using: Domain.NUnitRunner, Domain.xUnitRunner or Domain.MSTestRunner
2. Run build.ps1 again. This will take a bit longer this time as the script will now run your tests and gather code coverage information

## Preliminary .Net Core support
Documentation coming soon (lots of manual steps)